{"version":3,"sources":["modernizr.js","object-fit-images.js","Init.js","Maps.js","Overlay.js","PhotoGallery.js"],"names":["e","n","t","o","s","a","i","r","l","c","hasOwnProperty","name","push","toLowerCase","options","aliases","length","fn","split","Modernizr","Boolean","f","join","u","className","_config","classPrefix","p","baseVal","enableJSClass","RegExp","replace","enableClasses","createElement","arguments","createElementNS","call","apply","body","fake","d","h","parseInt","id","appendChild","type","styleSheet","cssText","createTextNode","style","background","overflow","parentNode","removeChild","offsetHeight","_version","usePrefixes","_q","on","this","setTimeout","addTest","addAsyncTest","prototype","documentElement","nodeName","_prefixes","m","testStyles","DocumentTouch","offsetTop","v","window","document","objectFitImages","getComputedStyle","fontFamily","exec","currentSrc","src","srcset","backgroundImage","backgroundPosition","backgroundRepeat","indexOf","backgroundSize","Image","naturalWidth","width","naturalHeight","height","get","set","Object","defineProperty","addEventListener","bind","target","tagName","querySelectorAll","watchMQ","$","ready","$window","resize","click","animate","scrollTop","photoGallery","load","documentLoadComplete","maps","revealOnScroll","scroll","paddedWindowHeight","size","$revealSections","each","$this","data","offset","top","scrolled","$section","find","animations","animated","spec","trim","properties","animation","delay","sizes","animationClass","parseFloat","addClass","not","touch","jQuery","element","onMapZoomChanged","plugin","setPopoverVisible","onMapDragStart","onMapClick","onMarkerClick","popoverVisible","mapStyle","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","defaults","locationLat","locationLng","locationTitle","locationIcon","zoom","mapStyles","apiKey","settings","$element","$map","map","$popover","location","init","extend","embedScript","mapScriptEmbedded","getScript","onMapInit","lat","lng","google","Map","center","styles","draggable","scrollwheel","streetViewControl","mapTypeControl","panBy","marker","Marker","position","title","icon","addListener","visible","setCenter","removeClass","undefined","mapInit","overlay","onCloseBtnClick","setVisible","onPreviousBtnClick","onPrevious","onNextBtnClick","onNext","toggleVisible","_visible","getElement","onOverlayPrevious","selectPhotoIndex","selectedPhotoIndex","onOverlayNext","preloadImage","url","callback","image","onload","lastColumnCount","$photos","$grid","index","$overlay","append","layout","$photo","attr","thumbUrl","remove","$overlayPane","$thumbImage","$imageContain","text","$image","empty","columnCount","detach","$columns","columnHeights","j","$column","add","minColIndex","minColHeight"],"mappings":"CAEA,SAAAA,EAAAC,EAAAC,GAAA,QAAAC,GAAAH,EAAAC,GAAA,aAAAD,KAAAC,EAAA,QAAAG,KAAA,GAAAJ,GAAAC,EAAAC,EAAAE,EAAAC,EAAAC,EAAAC,CAAA,KAAA,GAAAC,KAAAC,GAAA,GAAAA,EAAAC,eAAAF,GAAA,CAAA,GAAAR,KAAAC,EAAAQ,EAAAD,GAAAP,EAAAU,OAAAX,EAAAY,KAAAX,EAAAU,KAAAE,eAAAZ,EAAAa,SAAAb,EAAAa,QAAAC,SAAAd,EAAAa,QAAAC,QAAAC,QAAA,IAAAd,EAAA,EAAAA,EAAAD,EAAAa,QAAAC,QAAAC,OAAAd,IAAAF,EAAAY,KAAAX,EAAAa,QAAAC,QAAAb,GAAAW,cAAA,KAAAT,EAAAD,EAAAF,EAAAgB,GAAA,YAAAhB,EAAAgB,KAAAhB,EAAAgB,GAAAZ,EAAA,EAAAA,EAAAL,EAAAgB,OAAAX,IAAAC,EAAAN,EAAAK,GAAAE,EAAAD,EAAAY,MAAA,KAAA,IAAAX,EAAAS,OAAAG,EAAAZ,EAAA,IAAAH,IAAAe,EAAAZ,EAAA,KAAAY,EAAAZ,EAAA,aAAAa,WAAAD,EAAAZ,EAAA,IAAA,GAAAa,SAAAD,EAAAZ,EAAA,MAAAY,EAAAZ,EAAA,IAAAA,EAAA,IAAAH,GAAAiB,EAAAT,MAAAR,EAAA,GAAA,OAAAG,EAAAe,KAAA,OAAA,QAAAjB,GAAAL,GAAA,GAAAC,GAAAsB,EAAAC,UAAAtB,EAAAiB,EAAAM,QAAAC,aAAA,EAAA,IAAAC,IAAA1B,EAAAA,EAAA2B,SAAAT,EAAAM,QAAAI,cAAA,CAAA,GAAA1B,GAAA,GAAA2B,QAAA,UAAA5B,EAAA,eAAAD,GAAAA,EAAA8B,QAAA5B,EAAA,KAAAD,EAAA,QAAAiB,EAAAM,QAAAO,gBAAA/B,GAAA,IAAAC,EAAAF,EAAAsB,KAAA,IAAApB,GAAAyB,EAAAJ,EAAAC,UAAAI,QAAA3B,EAAAsB,EAAAC,UAAAvB,GAAA,QAAAK,KAAA,MAAA,kBAAAL,GAAAgC,cAAAhC,EAAAgC,cAAAC,UAAA,IAAAP,EAAA1B,EAAAkC,gBAAAC,KAAAnC,EAAA,6BAAAiC,UAAA,IAAAjC,EAAAgC,cAAAI,MAAApC,EAAAiC,WAAA,QAAA3B,KAAA,GAAAP,GAAAC,EAAAqC,IAAA,OAAAtC,KAAAA,EAAAM,EAAAqB,EAAA,MAAA,QAAA3B,EAAAuC,MAAA,GAAAvC,EAAA,QAAAQ,GAAAR,EAAAE,EAAAC,EAAAC,GAAA,GAAAC,GAAAG,EAAAa,EAAAZ,EAAA+B,EAAA,YAAAb,EAAArB,EAAA,OAAAmC,EAAAlC,GAAA,IAAAmC,SAAAvC,EAAA,IAAA,KAAAA,KAAAkB,EAAAf,EAAA,OAAAe,EAAAsB,GAAAvC,EAAAA,EAAAD,GAAAqC,GAAArC,EAAA,GAAAwB,EAAAiB,YAAAvB,EAAA,OAAAhB,GAAAC,EAAA,SAAAD,EAAAwC,KAAA,WAAAxC,EAAAsC,GAAA,IAAAH,GAAAC,EAAAF,KAAAE,EAAAd,GAAAiB,YAAAvC,GAAAoC,EAAAG,YAAAjB,GAAAtB,EAAAyC,WAAAzC,EAAAyC,WAAAC,QAAA/C,EAAAK,EAAAuC,YAAA3C,EAAA+C,eAAAhD,IAAA2B,EAAAgB,GAAAH,EAAAC,EAAAF,OAAAE,EAAAQ,MAAAC,WAAA,GAAAT,EAAAQ,MAAAE,SAAA,SAAA1C,EAAAc,EAAA0B,MAAAE,SAAA5B,EAAA0B,MAAAE,SAAA,SAAA5B,EAAAqB,YAAAH,IAAAjC,EAAAN,EAAAyB,EAAA3B,GAAAyC,EAAAF,MAAAE,EAAAW,WAAAC,YAAAZ,GAAAlB,EAAA0B,MAAAE,SAAA1C,EAAAc,EAAA+B,cAAA3B,EAAAyB,WAAAC,YAAA1B,KAAAnB,EAAA,GAAAa,MAAAZ,KAAA+B,GAAAe,SAAA,QAAA9B,SAAAC,YAAA,GAAAM,eAAA,EAAAH,eAAA,EAAA2B,aAAA,GAAAC,MAAAC,GAAA,SAAA1D,EAAAC,GAAA,GAAAC,GAAAyD,IAAAC,YAAA,WAAA3D,EAAAC,EAAAF,KAAA,IAAA6D,QAAA,SAAA7D,EAAAC,EAAAC,GAAAO,EAAAG,MAAAD,KAAAX,EAAAiB,GAAAhB,EAAAa,QAAAZ,KAAA4D,aAAA,SAAA9D,GAAAS,EAAAG,MAAAD,KAAA,KAAAM,GAAAjB,MAAAmB,EAAA,YAAAA,GAAA4C,UAAAvB,EAAArB,EAAA,GAAAA,EAAA,IAAAI,GAAAtB,EAAA+D,gBAAArC,EAAA,QAAAJ,EAAA0C,SAAApD,cAAA4B,EAAAD,EAAAf,QAAA+B,YAAA,4BAAAtC,MAAA,MAAA,GAAA,GAAAsB,GAAA0B,UAAAzB,CAAA,IAAA0B,GAAA3B,EAAA4B,WAAA5D,CAAAW,GAAA0C,QAAA,cAAA,WAAA,GAAA3D,EAAA,IAAA,gBAAAF,IAAAA,EAAAqE,eAAApE,YAAAoE,eAAAnE,GAAA,MAAA,CAAA,GAAAC,IAAA,WAAAsC,EAAAnB,KAAA,oBAAA,SAAA,IAAA,2CAAAA,KAAA,GAAA6C,GAAAhE,EAAA,SAAAH,GAAAE,EAAA,IAAAF,EAAAsE,YAAA,MAAApE,KAAAE,IAAAC,EAAAgB,SAAAmB,GAAAqB,cAAArB,GAAAsB,YAAA,KAAA,GAAAS,GAAA,EAAAA,EAAApD,EAAAsC,GAAAzC,OAAAuD,IAAApD,EAAAsC,GAAAc,IAAAvE,GAAAmB,UAAAA,GAAAqD,OAAAC,SCFA,IAAAC,iBAAA,WAAA,YAAA,SAAAnE,GAAAP,GAAA,IAAA,GAAAC,GAAAK,EAAAqE,iBAAA3E,GAAA4E,WAAArE,KAAA,QAAAN,EAAAC,EAAA2E,KAAAvE,KAAAC,EAAAN,EAAA,IAAAA,EAAA,EAAA,OAAAM,GAAA,QAAAJ,GAAAD,EAAAI,GAAA,GAAAL,GAAAM,EAAAL,EAAAD,GAAA,eAAA,SAAAA,EAAA,gBAAAK,EAAAA,GAAAJ,EAAA4E,YAAA5E,EAAA6E,IAAA7E,EAAA8E,SAAA9E,EAAA8E,OAAA,IAAA9E,EAAAF,KAAAE,EAAA6E,IAAA/E,EAAAK,EAAAH,IAAAA,EAAAF,GAAAE,EAAAF,KAAAI,EAAAE,GAAAJ,EAAA+C,MAAAgC,gBAAA,QAAA3E,EAAA,KAAAJ,EAAA+C,MAAAiC,mBAAAjF,EAAA,oBAAA,SAAAC,EAAA+C,MAAAkC,iBAAA,YAAAlF,EAAA,cAAAmF,QAAA,cAAA,EAAAlF,EAAA+C,MAAAoC,eAAApF,EAAA,cAAA8B,QAAA,OAAA,SAAA7B,EAAAF,GAAAM,IAAAJ,EAAAF,GAAAM,EAAA,GAAAgF,OAAApF,EAAAF,GAAAM,EAAAyE,IAAAzE,GAAA,QAAAH,KAAA,MAAAD,GAAAF,GAAAM,EAAAiF,kBAAArF,EAAAF,GAAAM,EAAAiF,aAAArF,EAAAsF,OAAAtF,EAAAF,GAAAM,EAAAmF,cAAAvF,EAAAwF,OAAAxF,EAAA+C,MAAAoC,eAAA,UAAAnF,EAAA+C,MAAAoC,eAAA,YAAAzB,YAAAzD,EAAA,UAAA,QAAAE,GAAAH,GAAA,GAAAI,IAAAqF,IAAA,WAAA,MAAAzF,GAAAF,GAAAI,GAAAwF,IAAA,SAAAtF,GAAA,aAAAJ,GAAAF,GAAAM,EAAAH,EAAAD,EAAAI,IAAAuF,QAAAC,eAAA5F,EAAA,MAAAI,GAAAuF,OAAAC,eAAA5F,EAAA,cAAAyF,IAAArF,EAAAqF,MAAA,QAAAlF,GAAAT,GAAAwE,OAAAuB,iBAAA,SAAA1E,EAAA2E,KAAA,KAAAhG,IAAA,QAAAuB,GAAAvB,GAAA,QAAAA,EAAAiG,OAAAC,SAAA/F,EAAAH,EAAAiG,QAAA,QAAA5E,GAAArB,EAAAE,GAAA,GAAAI,EAAA,OAAA,CAAA,IAAAC,IAAAN,IAAAD,CAAAE,GAAAA,MAAAF,EAAAA,GAAA,MAAA,gBAAAA,GAAAA,EAAAyE,SAAA0B,iBAAA,OAAAnG,EAAAgB,SAAAhB,GAAAA,GAAA,KAAA,GAAAK,GAAA,EAAAA,EAAAL,EAAAgB,OAAAX,IAAAF,EAAAH,EAAAK,GAAAE,KAAAkE,SAAAnC,KAAAyD,iBAAA,OAAAxE,GAAA,GAAAtB,GAAA,EAAAD,EAAA,OAAAE,EAAAkG,SAAA3F,EAAAT,GAAA,GAAAA,GAAA,qFAAAE,EAAA,mDAAAI,EAAA,cAAAmE,UAAAxC,cAAA,KAAAgB,MAAAhD,GAAA,CAAA,OAAAoB,OCCA,SAAAgF,GAEA,YAWA,SAAAC,KAGAC,EAAAC,OAAAA,GAGAH,EAAA,sCAAAI,MAAA,WASA,MANA,KAAAJ,EAAA,sBAAArF,QACAqF,EAAA,QAAAK,SACAC,UAAAJ,EAAAb,SAAA,MAIA,IAIAc,IAGAH,EAAA,kBAAAO,eAGAlC,gBAAA,kEAGA,QAAAmC,KAEAC,GAAA,EAGAT,EAAA,SAAAU,OAEAC,IAGAT,EAAAU,OAAAA,GAGAA,KAIA,QAAAT,KAEA,GAAAd,GAAAa,EAAAb,SACAF,EAAAe,EAAAf,OACA0B,GAAAxB,EAAA,GAGAyB,EAAA,KACA3B,GAAA,IACA2B,EAAA,KACA3B,GAAA,IACA2B,EAAA,KACA3B,GAAA,OACA2B,EAAA,MAGAH,IAGAI,EAAAC,KAAA,WACA,GAAAC,GAAAjB,EAAA1C,KACA2D,GAAAC,KAAA,aAAAD,EAAAE,SAAAC,OAIAX,GACAG,KAKA,QAAAA,KAEA,GAAAS,GAAAnB,EAAAI,WAEAS,GAAAC,KAAA,WACA,GAAAM,GAAAtB,EAAA1C,KAEA+D,GAAAR,EAAAS,EAAAJ,KAAA,gBAGAI,EAAAC,KAAA,kBAAAP,KAAA,WASA,IARA,GAAAC,GAAAjB,EAAA1C,MAIAkE,EAAAP,EAAAC,KAAA,UAAArG,MAAA,KACA4G,GAAA,EACAxH,MAEAwH,KAAAxH,EAAAuH,EAAA7G,QACA,CACA,GAAA+G,GAAAF,EAAAvH,GAAA0H,OACAC,EAAAF,EAAA7G,MAAA,KAEAgH,EAAAD,EAAA,GACAE,EAAA,IACAC,KAEAC,EAAA,oBAAAH,CAEAD,GAAAjH,QAAA,IACAmH,GAAA,IAAAG,WAAAL,EAAA,GAAA,KAGAA,EAAAjH,QAAA,IACAoH,EAAAH,EAAA,GAAA/G,MAAA,MAGA,IAAAkH,EAAApH,QAAAoH,EAAAhD,QAAA+B,UAEAvD,WAAA,WAEA0D,EAAAiB,SAAA,YAAAF,IAEAF,GAEAL,GAAA,GAMAA,GACAR,EAAAiB,SAAA,cAKAnB,EAAAA,EAAAoB,IAAAb,MA9IA,GAAApB,GAAAF,EAAA7B,QACAwC,GAAA7F,UAAAsH,MACAvB,EAAA,EACAC,EAAA,KACAL,GAAA,EACAM,EAAAf,EAAA,yBACAA,GAAA,iBA8IAA,GAAA7B,QAAAd,GAAA,OAAAmD,GAGAR,EAAAC,IAEAoC,QC9JA,SAAArC,GAEA,YAEAA,GAAAU,KAAA,SAAA4B,EAAA7H,GAiIA,QAAA8H,KAEAC,EAAAC,mBAAA,GAGA,QAAAC,KAEAF,EAAAC,mBAAA,GAGA,QAAAE,KAEAH,EAAAC,mBAAA,GAGA,QAAAG,KAEAJ,EAAAC,mBAAAI,GAhJA,GAAAC,KAAAC,YAAA,MAAAC,YAAA,mBAAAC,UAAAC,WAAA,KAAAC,MAAA,YAAAC,UAAA,OAAAL,YAAA,MAAAC,YAAA,qBAAAC,UAAAI,WAAA,OAAAF,MAAA,YAAAC,UAAA,OAAAL,YAAA,MAAAC,YAAA,cAAAC,UAAAI,WAAA,UAAAN,YAAA,iBAAAC,YAAA,gBAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,iBAAAC,YAAA,kBAAAC,UAAAE,MAAA,YAAAC,UAAA,KAAAE,OAAA,QAAAP,YAAA,yBAAAC,YAAA,kBAAAC,UAAAI,WAAA,OAAAF,MAAA,cAAAJ,YAAA,YAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,MAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,WAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,eAAAC,YAAA,gBAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,eAAAC,YAAA,kBAAAC,UAAAE,MAAA,YAAAC,UAAA,KAAAE,OAAA,OAAAP,YAAA,gBAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,aAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,UAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAAAL,YAAA,QAAAC,YAAA,WAAAC,UAAAE,MAAA,YAAAC,UAAA,OAEAG,GACAC,YAAA,KACAC,YAAA,KACAC,cAAA,KACAC,aAAA,KACAC,KAAA,GACAC,UAAAf,EACAgB,OAAA,MAGAtB,EAAAlF,IAEAkF,GAAAuB,WAEA,IAAAC,GAAAhE,EAAAsC,GACAA,EAAAA,EAEA2B,EAAA,KACAC,EAAA,KACAC,EAAA,KACAtB,GAAA,EACAuB,EAAA,IAEA5B,GAAA6B,KAAA,WAEA7B,EAAAuB,SAAA/D,EAAAsE,UAAAf,EAAA9I,GAGAwJ,EAAAD,EAAAzC,KAAA,cACA4C,EAAAH,EAAAzC,KAAA,kBAGAiB,EAAA+B,eAGA/B,EAAA+B,YAAA,WAEA,IAAApG,OAAAqG,kBAAA,CAIA,GAAAV,GAAAtB,EAAAuB,SAAAD,MACAE,GAAA9C,KAAA,YACA4C,EAAAE,EAAA9C,KAAA,WAGA4C,IAEA9D,EAAAyE,UACA,+CACAX,EACA,qBAEA3F,OAAAqG,mBAAA,KAIAhC,EAAAkC,UAAA,WAGA,GAAAlB,GAAAhB,EAAAuB,SAAAP,YACAC,EAAAjB,EAAAuB,SAAAN,WAEAO,GAAA9C,KAAA,kBACAsC,EAAAQ,EAAA9C,KAAA,iBAGA8C,EAAA9C,KAAA,kBACAuC,EAAAO,EAAA9C,KAAA,iBAGAkD,GACAO,IAAAnB,EACAoB,IAAAnB,EAIA,IAAAC,GAAAlB,EAAAuB,SAAAL,aAEAM,GAAA9C,KAAA,oBACAwC,EAAAM,EAAA9C,KAAA,kBAIA,IAAAyC,GAAAnB,EAAAuB,SAAAJ,YAEAK,GAAA9C,KAAA,mBACAyC,EAAAK,EAAA9C,KAAA,iBAIA,IAAA0C,GAAApB,EAAAuB,SAAAH,IAEAI,GAAA9C,KAAA,UACA0C,EAAAI,EAAA9C,KAAA,SAIAgD,EAAA,GAAAW,QAAAnE,KAAAoE,IAAAb,EAAA,IACAc,OAAAX,EACAR,KAAAA,EACAoB,OAAAxC,EAAAuB,SAAAF,UACAoB,YAAA,cAAA7G,WACA8G,aAAA,EACAC,mBAAA,EACAC,gBAAA,IAGAlB,EAAAmB,MAAA,OAEA,IAAAC,GAAA,GAAAT,QAAAnE,KAAA6E,QACAC,SAAApB,EACAF,IAAAA,EACAuB,MAAA/B,EACAgC,KAAA/B,GAIAO,GAAAyB,YAAA,eAAApD,GACA2B,EAAAyB,YAAA,YAAAjD,GACAwB,EAAAyB,YAAA,QAAAhD,GACA2C,EAAAK,YAAA,QAAA/C,IAwBAJ,EAAAC,kBAAA,SAAAmD,GAEAA,IAAA/C,IAIA+C,GAGA1B,EAAA2B,UAAAzB,GACAF,EAAAmB,MAAA,QAGAlB,EAAA2B,YAAA,oBAIA3B,EAAAjC,SAAA,mBAGAW,EAAA+C,IAGApD,EAAA6B,QAGArE,EAAApF,GAAA8F,KAAA,SAAAjG,GAEA,MAAA6C,MAAA0D,KAAA,WACA,GAAA+E,QAAA/F,EAAA1C,MAAA4D,KAAA,QAAA,CACA,GAAAsB,GAAA,GAAAxC,GAAAU,KAAApD,KAAA7C,EACAuF,GAAA1C,MAAA4D,KAAA,OAAAsB,OAMArE,OAAAqG,mBAAA,EAEArG,OAAA6H,QAAA,WAEAhG,EAAA,SAAAgB,KAAA,WACAhB,EAAA1C,MAAA4D,KAAA,QAAAwD,gBAIArC,QCvMA,SAAArC,GAEA,YAEAA,GAAAiG,QAAA,SAAA3D,EAAA7H,GAkCA,QAAAyL,GAAAvM,GAGA,MADA6I,GAAA2D,YAAA,IACA,EAGA,QAAAC,GAAAzM,GAGA,MADA6I,GAAAuB,SAAAsC,cACA,EAGA,QAAAC,GAAA3M,GAGA,MADA6I,GAAAuB,SAAAwC,UACA,EA/CA,GAAAhD,IACAqC,SAAA,EACAW,OAAA,aACAF,WAAA,cAGA7D,EAAAlF,IAEAkF,GAAAuB,WAEA,IAAAC,GAAAhE,EAAAsC,GACAA,EAAAA,EAEAsD,GAAA,CAEApD,GAAA6B,KAAA,WAEA7B,EAAAuB,SAAA/D,EAAAsE,UAAAf,EAAA9I,GAEAmL,EAAApD,EAAAuB,SAAA6B,QAGAA,KAAA,GACA5B,EAAA9B,SAAA,mBAIA8B,EAAAzC,KAAA,uBAAAnB,MAAA8F,GACAlC,EAAAzC,KAAA,0BAAAnB,MAAAgG,GACApC,EAAAzC,KAAA,sBAAAnB,MAAAkG,IAqBA9D,EAAAgE,cAAA,WAEAhE,EAAA2D,YAAAP,IAGApD,EAAA2D,WAAA,SAAAM,GAEAA,IAAAb,IAIAA,EAAAa,EAEAb,GACA5B,EAAA8B,YAAA,mBACA9F,EAAA,QAAAkC,SAAA,qBAEA8B,EAAA9B,SAAA,mBACAlC,EAAA,QAAA8F,YAAA,sBAIAtD,EAAAkE,WAAA,WAEA,MAAA1C,IAGAxB,EAAA6B,QAGArE,EAAApF,GAAAqL,QAAA,SAAAxL,GAEA,MAAA6C,MAAA0D,KAAA,WACA,GAAA+E,QAAA/F,EAAA1C,MAAA4D,KAAA,WAAA,CACA,GAAAsB,GAAA,GAAAxC,GAAAiG,QAAA3I,KAAA7C,EACAuF,GAAA1C,MAAA4D,KAAA,UAAAsB,QAMAH,QCjGA,SAAArC,GAEA,YAEAA,GAAAO,aAAA,SAAA+B,EAAA7H,GA0DA,QAAAkM,KAEAnE,EAAAoE,iBAAAC,EAAA,GAGA,QAAAC,KAEAtE,EAAAoE,iBAAAC,EAAA,GAqFA,QAAAE,GAAAC,EAAAC,GAEA,GAAAC,GAAA,GAAAjI,MACAiI,GAAAC,OAAAF,EACAC,EAAAxI,IAAAsI,EAxJA,GAAAzD,MAIAf,EAAAlF,IAEAkF,GAAAuB,WAEA,IAAAC,GAAAhE,EAAAsC,GACAA,EAAAA,EAEAuE,KACAO,EAAA,EACAnB,EAAA,KACAoB,KACAC,EAAA,IAEA9E,GAAA6B,KAAA,WAEA7B,EAAAuB,SAAA/D,EAAAsE,UAAAf,EAAA9I,GAGA4M,EAAArD,EAAAzC,KAAA,yBAEA8F,EAAAjH,MAAA,WACA,GAAAmH,GAAAF,EAAAE,MAAAjK,KAEA,OADAkF,GAAAoE,iBAAAW,IACA,GAIA,IAAAC,GAAAxD,EAAAzC,KAAA,0BACAiG,GAAAvB,SACAI,WAAAM,EACAJ,OAAAO,IAIAb,EAAAuB,EAAAtG,KAAA,WAGAoG,EACAtH,EAAA,eACAkC,SAAA,QAEA8B,EAAAyD,OAAAH,GAGA9E,EAAAkF,SAGA1H,EAAA7B,QAAAgC,OAAA,WACAqC,EAAAkF,YAcAlF,EAAAoE,iBAAA,SAAAW,GAEA,KAAAvH,EAAA7B,QAAAgB,SAAA,KAAA,CASA,GAFAoI,GAAAA,EAAAF,EAAA1M,QAAA0M,EAAA1M,OAEAkM,IAAAU,EAGA,WADAtB,GAAAE,YAAA,EAKAU,GAAAU,CAGA,IAAAI,GAAA3H,EAAAqH,EAAAE,IACA9B,EAAAkC,EAAAC,KAAA,SACAZ,EAAAW,EAAAC,KAAA,YACAC,EAAAF,EAAAC,KAAA,iBAGA3B,GAAAS,aAAAnF,KAAA,kBAAAuG,QAGA,IAAAC,GACA/H,EAAA,eACAkC,SAAA,iBAGA8F,EACAhI,EAAA,SACAkC,SAAA,sDACA0F,KAAA,MAAAC,GAEAI,EACAjI,EAAA,eACAkC,SAAA,iBACAuF,OAAAO,EAGAD,GAAAN,OACAzH,EAAA,eACAkC,SAAA,kBACAuF,OAAAQ,GACAjI,EAAA,eACAkC,SAAA,oBACAuF,OACAzH,EAAA,aACAkC,SAAA,kBACAgG,KAAAzC,KAKAQ,EAAAS,aAAAe,OAAAM,GACA1J,gBAAA2J,EAAA,IAGA/B,EAAAE,YAAA,GAGAY,EAAAC,EAAA,WAEA,GAAAmB,GACAnI,EAAA,SACAkC,SAAA,wBACA0F,KAAA,MAAAZ,EAEAiB,GACAG,QACAX,OAAAU,GAEA9J,gBAAA8J,EAAA,QAWA3F,EAAAkF,OAAA,WAGA,GAAAW,GAAA,EACAlJ,EAAAa,EAAA7B,QAAAgB,OAYA,IATAA,EAAA,MACAkJ,EAAA,GAGAlJ,EAAA,OACAkJ,EAAA,GAIAjB,IAAAiB,EAAA,CAKAlJ,GAAA,KACA8G,EAAAE,YAAA,GAIAkB,EAAAiB,SAGAhB,EAAAc,OAGA,IAAAG,GAAAvI,IACAwI,KACAvO,EAAA,EACAwO,EAAA,CAEA,KAAAxO,EAAA,EAAAA,EAAAoO,EAAApO,IACA,CACA,GAAAyO,GACA1I,EAAA,eACAkC,SAAA,eAEAoF,GAAAG,OAAAiB,GACAH,EAAAA,EAAAI,IAAAD,GACAF,EAAAjO,KAAA,GAIA,IAAAN,EAAA,EAAAA,EAAAoN,EAAA1M,OAAAV,IACA,CACA,GAAA0N,GAAA3H,EAAAqH,EAAApN,IAEAkO,EAAAR,EAAApG,KAAA,yBACAlC,EAAAhD,SAAA8L,EAAAP,KAAA,WAGAgB,EAAA,EACAC,EAAAL,EAAA,EAEA,KAAAC,EAAA,EAAAA,EAAAJ,EAAAI,IACAD,EAAAC,GAAAI,IACAD,EAAAH,EACAI,EAAAL,EAAAC,GAKAzI,GAAAuI,EAAAK,IAAAnB,OAAAE,GACAa,EAAAI,IAAAvJ,KAKAmD,EAAA6B,QAGArE,EAAApF,GAAA2F,aAAA,SAAA9F,GAEA,MAAA6C,MAAA0D,KAAA,WACA,GAAA+E,QAAA/F,EAAA1C,MAAA4D,KAAA,gBAAA,CACA,GAAAsB,GAAA,GAAAxC,GAAAO,aAAAjD,KAAA7C,EACAuF,GAAA1C,MAAA4D,KAAA,eAAAsB,QAMAH","file":"script.min.js","sourcesContent":["/*! modernizr 3.3.1 (Custom Build) | MIT *\n * https://modernizr.com/download/?-touchevents-setclasses !*/\n!function(e,n,t){function o(e,n){return typeof e===n}function s(){var e,n,t,s,a,i,r;for(var l in c)if(c.hasOwnProperty(l)){if(e=[],n=c[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(s=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],r=i.split(\".\"),1===r.length?Modernizr[r[0]]=s:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=s),f.push((s?\"\":\"no-\")+r.join(\"-\"))}}function a(e){var n=u.className,t=Modernizr._config.classPrefix||\"\";if(p&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),p?u.className.baseVal=n:u.className=n)}function i(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function r(){var e=n.body;return e||(e=i(p?\"svg\":\"body\"),e.fake=!0),e}function l(e,t,o,s){var a,l,f,c,d=\"modernizr\",p=i(\"div\"),h=r();if(parseInt(o,10))for(;o--;)f=i(\"div\"),f.id=s?s[o]:d+(o+1),p.appendChild(f);return a=i(\"style\"),a.type=\"text/css\",a.id=\"s\"+d,(h.fake?h:p).appendChild(a),h.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(n.createTextNode(e)),p.id=d,h.fake&&(h.style.background=\"\",h.style.overflow=\"hidden\",c=u.style.overflow,u.style.overflow=\"hidden\",u.appendChild(h)),l=t(p,e),h.fake?(h.parentNode.removeChild(h),u.style.overflow=c,u.offsetHeight):p.parentNode.removeChild(p),!!l}var f=[],c=[],d={_version:\"3.3.1\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){c.push({name:e,fn:n,options:t})},addAsyncTest:function(e){c.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=d,Modernizr=new Modernizr;var u=n.documentElement,p=\"svg\"===u.nodeName.toLowerCase(),h=d._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[\"\",\"\"];d._prefixes=h;var m=d.testStyles=l;Modernizr.addTest(\"touchevents\",function(){var t;if(\"ontouchstart\"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=[\"@media (\",h.join(\"touch-enabled),(\"),\"heartz\",\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\");m(o,function(e){t=9===e.offsetTop})}return t}),s(),a(f),delete d.addTest,delete d.addAsyncTest;for(var v=0;v<Modernizr._q.length;v++)Modernizr._q[v]();e.Modernizr=Modernizr}(window,document);","var objectFitImages=function(){\"use strict\";var e=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\";var t=/(object-fit|object-position)\\s*:\\s*([^;$\"'\\s]+)/g;var i=\"object-fit\"in document.createElement(\"i\").style;var n=false;function r(e){var i=getComputedStyle(e).fontFamily;var n;var r={};while((n=t.exec(i))!==null){r[n[1]]=n[2]}return r}function o(t,i){var n=r(t);if(!n[\"object-fit\"]||n[\"object-fit\"]===\"fill\"){return}i=i||t.currentSrc||t.src;if(t.srcset){t.srcset=\"\"}if(!t[e]){t.src=e;a(t)}t[e]=t[e]||{s:i};t.style.backgroundImage='url(\"'+i+'\")';t.style.backgroundPosition=n[\"object-position\"]||\"center\";t.style.backgroundRepeat=\"no-repeat\";if(n[\"object-fit\"].indexOf(\"scale-down\")<0){t.style.backgroundSize=n[\"object-fit\"].replace(\"none\",\"auto\")}else{if(!t[e].i){t[e].i=new Image;t[e].i.src=i}(function o(){if(t[e].i.naturalWidth){if(t[e].i.naturalWidth>t.width||t[e].i.naturalHeight>t.height){t.style.backgroundSize=\"contain\"}else{t.style.backgroundSize=\"auto\"}return}setTimeout(o,100)})()}}function a(t){var i={get:function(){return t[e].s},set:function(i){delete t[e].i;return o(t,i)}};Object.defineProperty(t,\"src\",i);Object.defineProperty(t,\"currentSrc\",{get:i.get})}function c(e){window.addEventListener(\"resize\",f.bind(null,e))}function u(e){if(e.target.tagName===\"IMG\"){o(e.target)}}function f(e,t){if(i){return false}var r=!n&&!e;t=t||{};e=e||\"img\";if(typeof e===\"string\"){e=document.querySelectorAll(\"img\")}else if(!e.length){e=[e]}for(var a=0;a<e.length;a++){o(e[a])}if(r){document.body.addEventListener(\"load\",u,true);n=true;e=\"img\"}if(t.watchMQ){c(e)}}return f}();\n","\n(function($) {\n\n    'use strict';\n\n    // bind elements\n    var $window = $(window),\n        revealOnScroll = !Modernizr.touch,\n        paddedWindowHeight = 0,\n        size = null,\n        documentLoadComplete = false,\n        $revealSections = $('.section, .site-header'),\n        $revealOnScroll = $('*[data-reveal]');\n\n    function ready()\n    {\n        // bind resize event\n        $window.resize(resize);\n\n        // handle scrollable click\n        $('*[data-action=\"scroll-to-content\"]').click(function() {\n\n            // only scroll down if a hero takes up the entire screen\n            if ($('.site-header--hero').length !== 0) {\n                $('body').animate({\n                    scrollTop: $window.height() - 30\n                });\n            }\n\n            return false;\n        });\n\n        // initial event call\n        resize();\n\n        // init photo galleries\n        $('.photo-gallery').photoGallery();\n\n        // object-fit polyfill\n        objectFitImages('.image-cover__image, .image-contain__image, .image-logo__image');\n    }\n\n    function load()\n    {\n        documentLoadComplete = true;\n\n        // init maps\n        $('.maps').maps();\n\n        if (revealOnScroll)\n        {\n            // bind scroll event\n            $window.scroll(scroll);\n\n            // initial scroll event call\n            scroll();\n        }\n    }\n\n    function resize()\n    {\n        var height = $window.height();\n        var width = $window.width();\n        paddedWindowHeight = height - 85;\n\n        // determine size\n        size = 'lg';\n        if (width <= 768) {\n            size = 'xs';\n        } else if (width <= 992) {\n            size = 'sm';\n        } else if (width <= 1200) {\n            size = 'md';\n        }\n\n        if (revealOnScroll)\n        {\n            // calculate offset top for each element on page\n            $revealSections.each(function() {\n                var $this = $(this);\n                $this.data('offset-top', $this.offset().top);\n            });\n\n            // trigger scroll event\n            if (documentLoadComplete) {\n                scroll();\n            }\n        }\n    }\n\n    function scroll()\n    {\n        var scrolled = $window.scrollTop();\n\n        $revealSections.each(function() {\n            var $section = $(this);\n\n            if (scrolled + paddedWindowHeight > $section.data('offset-top'))\n            {\n                // trigger reveal animations inside this section\n                $section.find('*[data-reveal]').each(function() {\n                    var $this = $(this);\n\n                    // expected value \"animation-name [delay] [size]\"\n                    // e.g. \"fade-in 0.2s\"\n                    var animations = $this.data('reveal').split(';'),\n                        animated = false,\n                        i = -1;\n\n                    while (!animated && ++i < animations.length)\n                    {\n                        var spec = animations[i].trim();\n                        var properties = spec.split(' ');\n\n                        var animation = properties[0];\n                        var delay = 100;\n                        var sizes = [];\n\n                        var animationClass = 'animate animate--' + animation;\n\n                        if (properties.length >= 2) {\n                            delay += parseFloat(properties[1], 10) * 1000;\n                        }\n\n                        if (properties.length >= 3) {\n                            sizes = properties[2].split('+');\n                        }\n\n                        if (sizes.length === 0 || sizes.indexOf(size) !== -1)\n                        {\n                            setTimeout(function() {\n\n                                $this.addClass('revealed ' + animationClass);\n\n                            }, delay);\n\n                            animated = true;\n                        }\n                    }\n\n                    // reveal element for other sizes\n                    //  prevents hidden elements when resizing\n                    if (!animated) {\n                        $this.addClass('revealed');\n                    }\n                });\n\n                // remove element from watch list\n                $revealSections = $revealSections.not($section);\n            }\n        });\n    }\n\n    // bind load event\n    $(window).on('load', load);\n    \n    // bind ready event\n    $(ready);\n\n})(jQuery);\n","\n(function($) {\n\n    'use strict';\n\n    $.maps = function(element, options) {\n\n        var mapStyle = [{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"saturation\":36},{\"color\":\"#333333\"},{\"lightness\":40}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"on\"},{\"color\":\"#ffffff\"},{\"lightness\":16}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#fefefe\"},{\"lightness\":20}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#fefefe\"},{\"lightness\":17},{\"weight\":1.2}]},{\"featureType\":\"administrative.country\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"visibility\":\"on\"},{\"color\":\"#cccccc\"}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#f5f5f5\"},{\"lightness\":20}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#f5f5f5\"},{\"lightness\":21}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#dedede\"},{\"lightness\":21}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#ffffff\"},{\"lightness\":17}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#ffffff\"},{\"lightness\":29},{\"weight\":0.2}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#ffffff\"},{\"lightness\":18}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#ffffff\"},{\"lightness\":16}]},{\"featureType\":\"transit\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#f2f2f2\"},{\"lightness\":19}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#e9e9e9\"},{\"lightness\":17}]}];\n\n        var defaults = {\n            locationLat: null,\n            locationLng: null,\n            locationTitle: null,\n            locationIcon: null,\n            zoom: 11,\n            mapStyles: mapStyle,\n            apiKey: null\n        };\n\n        var plugin = this;\n\n        plugin.settings = {}\n\n        var $element = $(element),\n            element = element;\n\n        var $map = null,\n            map = null,\n            $popover = null,\n            popoverVisible = true,\n            location = null;\n\n        plugin.init = function()\n        {\n            plugin.settings = $.extend({}, defaults, options);\n\n            // bind elements\n            $map = $element.find('.maps__map');\n            $popover = $element.find('.maps__popover');\n\n            // embed script\n            plugin.embedScript();\n        };\n\n        plugin.embedScript = function()\n        {\n            if (window.mapScriptEmbedded) {\n                return;\n            }\n\n            var apiKey = plugin.settings.apiKey;\n            if ($element.data('apikey')) {\n                apiKey = $element.data('apikey');\n            }\n\n            if (apiKey)\n            {\n                $.getScript(\n                    'https://maps.googleapis.com/maps/api/js' +\n                    '?key=' + apiKey +\n                    '&callback=mapInit');\n\n                window.mapScriptEmbedded = true;\n            }\n        };\n\n        plugin.onMapInit = function()\n        {\n            // read location\n            var locationLat = plugin.settings.locationLat;\n            var locationLng = plugin.settings.locationLng;\n\n            if ($element.data('location-lat')) {\n                locationLat = $element.data('location-lat');\n            }\n\n            if ($element.data('location-lng')) {\n                locationLng = $element.data('location-lng');\n            }\n\n            location = {\n                lat: locationLat,\n                lng: locationLng\n            };\n\n            // read location title\n            var locationTitle = plugin.settings.locationTitle;\n\n            if ($element.data('location-title')) {\n                locationTitle = $element.data('location-title');\n            }\n\n            // read location icon\n            var locationIcon = plugin.settings.locationIcon;\n\n            if ($element.data('location-icon')) {\n                locationIcon = $element.data('location-icon');\n            }\n\n            // read zoom\n            var zoom = plugin.settings.zoom;\n\n            if ($element.data('zoom')) {\n                zoom = $element.data('zoom');\n            }\n\n            // init map\n            map = new google.maps.Map($map[0], {\n                center: location,\n                zoom: zoom,\n                styles: plugin.settings.mapStyles,\n                draggable: !('ontouchend' in document),\n                scrollwheel: false,\n                streetViewControl: false,\n                mapTypeControl: false\n            });\n\n            map.panBy(0, -150);\n\n            var marker = new google.maps.Marker({\n                position: location,\n                map: map,\n                title: locationTitle,\n                icon: locationIcon\n            });\n\n            // bind to events\n            map.addListener('zoom_changed', onMapZoomChanged);\n            map.addListener('dragstart', onMapDragStart);\n            map.addListener('click', onMapClick);\n            marker.addListener('click', onMarkerClick);\n\n        };\n\n        function onMapZoomChanged()\n        {\n            plugin.setPopoverVisible(false);\n        }\n\n        function onMapDragStart()\n        {\n            plugin.setPopoverVisible(false);\n        }\n\n        function onMapClick()\n        {\n            plugin.setPopoverVisible(false);\n        }\n\n        function onMarkerClick()\n        {\n            plugin.setPopoverVisible(!popoverVisible);\n        }\n\n        plugin.setPopoverVisible = function(visible)\n        {\n            if (visible === popoverVisible) {\n                return;\n            }\n\n            if (visible)\n            {\n                // center map\n                map.setCenter(location);\n                map.panBy(0, -150)\n\n                // show popover\n                $popover.removeClass('popover--hidden');\n            }\n            else\n            {\n                $popover.addClass('popover--hidden');\n            }\n\n            popoverVisible = visible;\n        }\n\n        plugin.init();\n    };\n\n    $.fn.maps = function(options)\n    {\n        return this.each(function() {\n            if (undefined == $(this).data('maps')) {\n                var plugin = new $.maps(this, options);\n                $(this).data('maps', plugin);\n            }\n        });\n\n    };\n\n    window.mapScriptEmbedded = false;\n\n    window.mapInit = function()\n    {\n        $('.maps').each(function() {\n            $(this).data('maps').onMapInit();\n        });\n    };\n\n})(jQuery);\n","\n(function($) {\n\n    'use strict';\n\n    $.overlay = function(element, options) {\n\n        var defaults = {\n            visible: false,\n            onNext: function() {},\n            onPrevious: function() {}\n        };\n\n        var plugin = this;\n\n        plugin.settings = {}\n\n        var $element = $(element),\n            element = element;\n\n        var visible = true;\n\n        plugin.init = function()\n        {\n            plugin.settings = $.extend({}, defaults, options);\n\n            visible = plugin.settings.visible;\n\n            // initial visible state\n            if (visible === false) {\n                $element.addClass('overlay--hidden');\n            }\n            \n            // bind element\n            $element.find('.overlay__btn-close').click(onCloseBtnClick);\n            $element.find('.overlay__btn-previous').click(onPreviousBtnClick);\n            $element.find('.overlay__btn-next').click(onNextBtnClick);\n        };\n\n        function onCloseBtnClick(e)\n        {\n            plugin.setVisible(false);\n            return false;\n        }\n\n        function onPreviousBtnClick(e)\n        {\n            plugin.settings.onPrevious();\n            return false;\n        }\n\n        function onNextBtnClick(e)\n        {\n            plugin.settings.onNext();\n            return false;\n        }\n\n        plugin.toggleVisible = function()\n        {\n            plugin.setVisible(!visible);\n        }\n\n        plugin.setVisible = function(_visible)\n        {\n            if (_visible === visible) {\n                return;\n            }\n\n            visible = _visible;\n\n            if (visible) {\n                $element.removeClass('overlay--hidden');\n                $('body').addClass('overlay-visible');\n            } else {\n                $element.addClass('overlay--hidden');\n                $('body').removeClass('overlay-visible');\n            }\n        };\n\n        plugin.getElement = function()\n        {\n            return $element;\n        };\n\n        plugin.init();\n    };\n\n    $.fn.overlay = function(options)\n    {\n        return this.each(function() {\n            if (undefined == $(this).data('overlay')) {\n                var plugin = new $.overlay(this, options);\n                $(this).data('overlay', plugin);\n            }\n        });\n\n    };\n\n})(jQuery);\n","\n(function($) {\n\n    'use strict';\n\n    $.photoGallery = function(element, options) {\n\n        var defaults = {\n\n        };\n\n        var plugin = this;\n\n        plugin.settings = {}\n\n        var $element = $(element),\n            element = element;\n\n        var selectedPhotoIndex = -1,\n            lastColumnCount = 0,\n            overlay = null,\n            $photos = [],\n            $grid = null;\n\n        plugin.init = function()\n        {\n            plugin.settings = $.extend({}, defaults, options);\n\n            // bind photo elements and detach them\n            $photos = $element.find('.photo-gallery__photo');\n\n            $photos.click(function() {\n                var index = $photos.index(this);\n                plugin.selectPhotoIndex(index);\n                return false;\n            });\n\n            // init overlay\n            var $overlay = $element.find('.photo-gallery__overlay');\n            $overlay.overlay({\n                onPrevious: onOverlayPrevious,\n                onNext: onOverlayNext\n            });\n\n            // bind overlay instance\n            overlay = $overlay.data('overlay');\n\n            // create grid element\n            $grid =\n                $('<div></div>')\n                    .addClass('grid');\n\n            $element.append($grid);\n\n            // initial layout\n            plugin.layout();\n\n            // layout on resize\n            $(window).resize(function() {\n                plugin.layout();\n            });\n        };\n\n        function onOverlayPrevious()\n        {\n            plugin.selectPhotoIndex(selectedPhotoIndex - 1);\n        }\n\n        function onOverlayNext()\n        {\n            plugin.selectPhotoIndex(selectedPhotoIndex + 1);\n        }\n\n        plugin.selectPhotoIndex = function(index)\n        {\n            if ($(window).width() <= 768)\n            {\n                // do not show overlay on mobile devices\n                return;\n            }\n\n            // rotate index\n            index = (index + $photos.length) % $photos.length;\n\n            if (selectedPhotoIndex === index)\n            {\n                overlay.setVisible(true);\n                return;\n            }\n\n            // keep track of the selected photo index\n            selectedPhotoIndex = index;\n\n            // collect photo and attributes\n            var $photo = $($photos[index]);\n            var title = $photo.attr('title');\n            var url = $photo.attr('data-url');\n            var thumbUrl = $photo.attr('data-thumb-url');\n\n            // remove panes\n            overlay.getElement().find('.overlay__pane').remove();\n\n            // create pane\n            var $overlayPane =\n                $('<div></div>')\n                    .addClass('overlay__pane');\n\n            // build image\n            var $thumbImage = \n                $('<img>')\n                    .addClass('image-contain__image image-contain__image--loading')\n                    .attr('src', thumbUrl);\n\n            var $imageContain =\n                $('<div></div>')\n                    .addClass('image-contain')\n                    .append($thumbImage);\n\n            // populate pane\n            $overlayPane.append(\n                $('<div></div>')\n                    .addClass('overlay__media')\n                    .append($imageContain),\n                $('<div></div>')\n                    .addClass('overlay__heading')\n                    .append(\n                        $('<h3></h3>')\n                            .addClass('overlay__title')\n                            .text(title)\n                    )\n            );\n\n            // append pane to overlay\n            overlay.getElement().append($overlayPane);\n            objectFitImages($thumbImage[0]);\n\n            // show overlay\n            overlay.setVisible(true);\n\n            // replace thumb by original image when preloaded\n            preloadImage(url, function() {\n\n                var $image =\n                    $('<img>')\n                        .addClass('image-contain__image')\n                        .attr('src', url);\n\n                $imageContain\n                    .empty()\n                    .append($image);\n\n                objectFitImages($image[0]);\n            });\n        };\n\n        function preloadImage(url, callback)\n        {\n            var image = new Image();\n            image.onload = callback;\n            image.src = url;\n        }\n\n        plugin.layout = function()\n        {\n            // calculate column count\n            var columnCount = 1;\n            var width = $(window).width();\n\n            // column count break points\n            if (width > 768) {\n                columnCount = 2;\n            }\n\n            if (width > 1200) {\n                columnCount = 3;\n            }\n\n            // prevent layout if column count did not change\n            if (lastColumnCount === columnCount) {\n                return;\n            }\n\n            // hide overlay on mobile devices\n            if (width <= 768) {\n                overlay.setVisible(false);\n            }\n\n            // detach photo elements\n            $photos.detach();\n\n            // empty grid\n            $grid.empty();\n\n            // build columns\n            var $columns = $(),\n                columnHeights = [],\n                i = 0,\n                j = 0;\n\n            for (i = 0; i < columnCount; i ++)\n            {\n                var $column =\n                    $('<div></div>')\n                        .addClass('grid__column');\n\n                $grid.append($column);\n                $columns = $columns.add($column);\n                columnHeights.push(0);\n            }\n\n            // distribute photos in columns\n            for (i = 0; i < $photos.length; i ++)\n            {\n                var $photo = $($photos[i]);\n\n                var $image = $photo.find('.photo-gallery__image');\n                var height = parseInt($image.attr('height'));\n\n                // find smallest column\n                var minColIndex = 0;\n                var minColHeight = columnHeights[0];\n\n                for (j = 1; j < columnCount; j ++) {\n                    if (columnHeights[j] < minColHeight) {\n                        minColIndex = j;\n                        minColHeight = columnHeights[j];\n                    }\n                }\n\n                // append photo to column\n                $($columns[minColIndex]).append($photo);\n                columnHeights[minColIndex] += height;\n            }\n\n        };\n\n        plugin.init();\n    };\n\n    $.fn.photoGallery = function(options)\n    {\n        return this.each(function() {\n            if (undefined == $(this).data('photoGallery')) {\n                var plugin = new $.photoGallery(this, options);\n                $(this).data('photoGallery', plugin);\n            }\n        });\n\n    };\n\n})(jQuery);\n"],"sourceRoot":"/source/"}